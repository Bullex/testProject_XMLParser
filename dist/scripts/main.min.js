"use strict";function initParser(){XML.get(Common.getUrlParameter("xml"))}var MESSAGE_XML_URL_IS_EMPTY="Путь к XML файлу не найден",MESSAGE_XML_NOT_LOADED="XML файл не удалось загрузить",MESSAGE_XML_SUCCESSFULLY_LOADED="XML файл успешно загрузился!",Common={getUrlParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},showMessage:function(e){var t=document.querySelector("#message");for(t||(t=document.createElement("div"),t.setAttribute("id","message"));t.firstChild;)t.removeChild(t.firstChild);var n=document.createTextNode(e);t.appendChild(n),document.body.insertBefore(t,document.body.firstChild)},render:function(e){var t=document.createElement("div"),n=document.createTextNode(e);t.appendChild(n),document.body.appendChild(t)}},XML={instance:void 0,get:function(e){if(e){var t=!1;try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.onreadystatechange=function(){4===n.readyState&&n.status>=200&&n.status<300?Common.showMessage(MESSAGE_XML_SUCCESSFULLY_LOADED):Common.showMessage(MESSAGE_XML_NOT_LOADED)}}catch(r){var i="undefined"!=typeof window.ActiveXObject;i?(this.instance=new ActiveXObject("Microsoft.XMLDOM"),this.instance.async=!1,this.instance.load(e),this.read(),t=!0):(this.instance=document.implementation.createDocument("","",null),this.instance.onload=this.read,this.instance.load(e),t=!0)}t||(n.setRequestHeader("Content-Type","text/xml"),n.send(""),this.instance=n.responseXML,this.read())}else Common.showMessage(MESSAGE_XML_URL_IS_EMPTY)},read:function(){Common.render("Кол-во внутренних ссылок: "+this.getNumberOfInternalLinks()),Common.render("Кол-во букв: "+this.getNumberOfLetters()),Common.render("Кол-во битых внутренних ссылок: "+this.getNumberOfDeadLinks())},getNumberOfInternalLinks:function(){return this.instance?this.instance.querySelectorAll('[href^="#"]').length:0},getNumberOfLetters:function(){return this.instance?this.instance.firstChild.textContent.replace(/[^a-zа-я]/gi,"").length:0},getNumberOfDeadLinks:function(){if(!this.instance)return 0;var e=this.instance,t=0;return[].forEach.call(e.querySelectorAll('[href^="#"]'),function(n){t+=e.getElementById(n.getAttribute("href").replace(/^\W/g,""))?0:1}),t}};initParser();
//# sourceMappingURL=main.min.js.map
